<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Strophe: Stanza and timed event handlers</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>Stanza and timed event handlers</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___handlers.html#ge70f02f84a0f232c6a8c2866ecb47b82">xmpp_timed_handler_delete</a> (xmpp_conn_t *const conn, <a class="el" href="strophe_8h.html#4f33a3d07c950b74a4da5c11ecffc2ab">xmpp_timed_handler</a> handler)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete a timed handler.  <a href="#ge70f02f84a0f232c6a8c2866ecb47b82"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___handlers.html#g6bd02f7254b2a53214824d3d5e4f59ce">xmpp_id_handler_delete</a> (xmpp_conn_t *const conn, <a class="el" href="strophe_8h.html#4656e4fa6c3cfdc8b3834495987a544f">xmpp_handler</a> handler, const char *const id)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete an id based stanza handler.  <a href="#g6bd02f7254b2a53214824d3d5e4f59ce"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___handlers.html#g881756ae98f74748212bcbc61e6a4c89">xmpp_handler_delete</a> (xmpp_conn_t *const conn, <a class="el" href="strophe_8h.html#4656e4fa6c3cfdc8b3834495987a544f">xmpp_handler</a> handler)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Delete a stanza handler.  <a href="#g881756ae98f74748212bcbc61e6a4c89"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___handlers.html#g0a74b20f2367389e5dc8852b4d3fdcda">xmpp_timed_handler_add</a> (xmpp_conn_t *const conn, <a class="el" href="strophe_8h.html#4f33a3d07c950b74a4da5c11ecffc2ab">xmpp_timed_handler</a> handler, const unsigned long period, void *const userdata)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a timed handler.  <a href="#g0a74b20f2367389e5dc8852b4d3fdcda"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___handlers.html#g2142d78b7d6e8d278eebfa8a63f194a4">xmpp_id_handler_add</a> (xmpp_conn_t *const conn, <a class="el" href="strophe_8h.html#4656e4fa6c3cfdc8b3834495987a544f">xmpp_handler</a> handler, const char *const id, void *const userdata)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add an id based stanza handler.  <a href="#g2142d78b7d6e8d278eebfa8a63f194a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___handlers.html#gd307e5a22d16ef3d6fa18d503b68944f">xmpp_handler_add</a> (xmpp_conn_t *const conn, <a class="el" href="strophe_8h.html#4656e4fa6c3cfdc8b3834495987a544f">xmpp_handler</a> handler, const char *const ns, const char *const <a class="el" href="lib_2expat_8h.html#1b49b495b59f9e73205b69ad1a2965b0">name</a>, const char *const type, void *const userdata)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add a stanza handler.  <a href="#gd307e5a22d16ef3d6fa18d503b68944f"></a><br></td></tr>
</table>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="ge70f02f84a0f232c6a8c2866ecb47b82"></a><!-- doxytag: member="handler.c::xmpp_timed_handler_delete" ref="ge70f02f84a0f232c6a8c2866ecb47b82" args="(xmpp_conn_t *const conn, xmpp_timed_handler handler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xmpp_timed_handler_delete           </td>
          <td>(</td>
          <td class="paramtype">xmpp_conn_t *const &nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="strophe_8h.html#4f33a3d07c950b74a4da5c11ecffc2ab">xmpp_timed_handler</a>&nbsp;</td>
          <td class="paramname"> <em>handler</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete a timed handler. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>a Strophe connection object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>function pointer to the handler </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g6bd02f7254b2a53214824d3d5e4f59ce"></a><!-- doxytag: member="handler.c::xmpp_id_handler_delete" ref="g6bd02f7254b2a53214824d3d5e4f59ce" args="(xmpp_conn_t *const conn, xmpp_handler handler, const char *const id)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xmpp_id_handler_delete           </td>
          <td>(</td>
          <td class="paramtype">xmpp_conn_t *const &nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="strophe_8h.html#4656e4fa6c3cfdc8b3834495987a544f">xmpp_handler</a>&nbsp;</td>
          <td class="paramname"> <em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const &nbsp;</td>
          <td class="paramname"> <em>id</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete an id based stanza handler. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>a Strophe connection object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>a function pointer to a stanza handler </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>a string containing the id the handler is for </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g881756ae98f74748212bcbc61e6a4c89"></a><!-- doxytag: member="handler.c::xmpp_handler_delete" ref="g881756ae98f74748212bcbc61e6a4c89" args="(xmpp_conn_t *const conn, xmpp_handler handler)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xmpp_handler_delete           </td>
          <td>(</td>
          <td class="paramtype">xmpp_conn_t *const &nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="strophe_8h.html#4656e4fa6c3cfdc8b3834495987a544f">xmpp_handler</a>&nbsp;</td>
          <td class="paramname"> <em>handler</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Delete a stanza handler. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>a Strophe connection object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>a function pointer to a stanza handler </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g0a74b20f2367389e5dc8852b4d3fdcda"></a><!-- doxytag: member="handler.c::xmpp_timed_handler_add" ref="g0a74b20f2367389e5dc8852b4d3fdcda" args="(xmpp_conn_t *const conn, xmpp_timed_handler handler, const unsigned long period, void *const userdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xmpp_timed_handler_add           </td>
          <td>(</td>
          <td class="paramtype">xmpp_conn_t *const &nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="strophe_8h.html#4f33a3d07c950b74a4da5c11ecffc2ab">xmpp_timed_handler</a>&nbsp;</td>
          <td class="paramname"> <em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned long&nbsp;</td>
          <td class="paramname"> <em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const &nbsp;</td>
          <td class="paramname"> <em>userdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a timed handler. 
<p>
The handler will fire for the first time once the period has elapsed, and continue firing regularly after that. Strophe will try its best to fire handlers as close to the period times as it can, but accuracy will vary depending on the resolution of the event loop.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>a Strophe connection object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>a function pointer to a timed handler </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>period</em>&nbsp;</td><td>the time in milliseconds between firings </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>userdata</em>&nbsp;</td><td>an opaque data pointer that will be passed to the handler </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g2142d78b7d6e8d278eebfa8a63f194a4"></a><!-- doxytag: member="handler.c::xmpp_id_handler_add" ref="g2142d78b7d6e8d278eebfa8a63f194a4" args="(xmpp_conn_t *const conn, xmpp_handler handler, const char *const id, void *const userdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xmpp_id_handler_add           </td>
          <td>(</td>
          <td class="paramtype">xmpp_conn_t *const &nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="strophe_8h.html#4656e4fa6c3cfdc8b3834495987a544f">xmpp_handler</a>&nbsp;</td>
          <td class="paramname"> <em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const &nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const &nbsp;</td>
          <td class="paramname"> <em>userdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add an id based stanza handler. 
<p>
This function adds a stanza handler for an &lt;iq/&gt; stanza of type 'result' or 'error' with a specific id attribute. This can be used to handle responses to specific &lt;iq/&gt;s.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>a Strophe connection object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>a function pointer to a stanza handler </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>a string with the id </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>userdata</em>&nbsp;</td><td>an opaque data pointer that will be passed to the handler </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="gd307e5a22d16ef3d6fa18d503b68944f"></a><!-- doxytag: member="handler.c::xmpp_handler_add" ref="gd307e5a22d16ef3d6fa18d503b68944f" args="(xmpp_conn_t *const conn, xmpp_handler handler, const char *const ns, const char *const name, const char *const type, void *const userdata)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xmpp_handler_add           </td>
          <td>(</td>
          <td class="paramtype">xmpp_conn_t *const &nbsp;</td>
          <td class="paramname"> <em>conn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="strophe_8h.html#4656e4fa6c3cfdc8b3834495987a544f">xmpp_handler</a>&nbsp;</td>
          <td class="paramname"> <em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const &nbsp;</td>
          <td class="paramname"> <em>ns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const &nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *const &nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const &nbsp;</td>
          <td class="paramname"> <em>userdata</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add a stanza handler. 
<p>
This function is used to add a stanza handler to a connection. The handler will be called when the any of the filters match. The name filter matches to the top level stanza name. The type filter matches the 'type' attribute of the top level stanza. The ns filter matches the namespace ('xmlns' attribute) of either the top level stanza or any of it's immediate children (this allows you do handle specific &lt;iq/&gt; stanzas based on the &lt;query/&gt; child namespace.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>conn</em>&nbsp;</td><td>a Strophe connection object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>handler</em>&nbsp;</td><td>a function pointer to a stanza handler </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>ns</em>&nbsp;</td><td>a string with the namespace to match </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>a string with the stanza name to match </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>a string with the 'type' attribute to match </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>userdata</em>&nbsp;</td><td>an opaque data pointer that will be passed to the handler </td></tr>
  </table>
</dl>

</div>
</div><p>
</div>
</body>
</html>
