<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Strophe: Event loop</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>Event loop</h1>These functions manage the Strophe event loop.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___event_loop.html#g02816aa5ce34d97fe5bbde5f9c6956ce">xmpp_run_once</a> (xmpp_ctx_t *ctx, const unsigned long timeout)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Run the event loop once.  <a href="#g02816aa5ce34d97fe5bbde5f9c6956ce"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___event_loop.html#g14ca97546803cf27c772fa8d2eabfffd">xmpp_run</a> (xmpp_ctx_t *ctx)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Start the event loop.  <a href="#g14ca97546803cf27c772fa8d2eabfffd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___event_loop.html#g44689e9b7782cec520ed60196e8c15c2">xmpp_stop</a> (xmpp_ctx_t *ctx)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stop the event loop.  <a href="#g44689e9b7782cec520ed60196e8c15c2"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
These functions manage the Strophe event loop. 
<p>
Simple tools can use <a class="el" href="group___event_loop.html#g14ca97546803cf27c772fa8d2eabfffd" title="Start the event loop.">xmpp_run()</a> and <a class="el" href="group___event_loop.html#g44689e9b7782cec520ed60196e8c15c2" title="Stop the event loop.">xmpp_stop()</a> to manage the life cycle of the program. A common idiom is to set up a few initial event handers, call <a class="el" href="group___event_loop.html#g14ca97546803cf27c772fa8d2eabfffd" title="Start the event loop.">xmpp_run()</a>, and then respond and react to events as they come in. At some point, one of the handlers will call <a class="el" href="group___event_loop.html#g44689e9b7782cec520ed60196e8c15c2" title="Stop the event loop.">xmpp_stop()</a> to quit the event loop which leads to the program terminating.<p>
More complex programs will have their own event loops, and should ensure that <a class="el" href="group___event_loop.html#g02816aa5ce34d97fe5bbde5f9c6956ce" title="Run the event loop once.">xmpp_run_once()</a> is called regularly from there. For example, a GUI program will already include an event loop to process UI events from users, and <a class="el" href="group___event_loop.html#g02816aa5ce34d97fe5bbde5f9c6956ce" title="Run the event loop once.">xmpp_run_once()</a> would be called from an idle function. <hr><h2>Function Documentation</h2>
<a class="anchor" name="g02816aa5ce34d97fe5bbde5f9c6956ce"></a><!-- doxytag: member="event.c::xmpp_run_once" ref="g02816aa5ce34d97fe5bbde5f9c6956ce" args="(xmpp_ctx_t *ctx, const unsigned long timeout)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xmpp_run_once           </td>
          <td>(</td>
          <td class="paramtype">xmpp_ctx_t *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned long&nbsp;</td>
          <td class="paramname"> <em>timeout</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Run the event loop once. 
<p>
event loop<p>
This function will run send any data that has been queued by xmpp_send and related functions and run through the Strophe even loop a single time, and will not wait more than timeout milliseconds for events. This is provided to support integration with event loops outside the library, and if used, should be called regularly to achieve low latency event handling.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>a Strophe context object </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>timeout</em>&nbsp;</td><td>time to wait for events in milliseconds </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g14ca97546803cf27c772fa8d2eabfffd"></a><!-- doxytag: member="event.c::xmpp_run" ref="g14ca97546803cf27c772fa8d2eabfffd" args="(xmpp_ctx_t *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xmpp_run           </td>
          <td>(</td>
          <td class="paramtype">xmpp_ctx_t *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Start the event loop. 
<p>
This function continuously calls xmpp_run_once and does not return until xmpp_stop has been called.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>a Strophe context object </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="g44689e9b7782cec520ed60196e8c15c2"></a><!-- doxytag: member="event.c::xmpp_stop" ref="g44689e9b7782cec520ed60196e8c15c2" args="(xmpp_ctx_t *ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xmpp_stop           </td>
          <td>(</td>
          <td class="paramtype">xmpp_ctx_t *&nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stop the event loop. 
<p>
This will stop the event loop after the current iteration and cause xmpp_run to exit.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>a Strophe context object </td></tr>
  </table>
</dl>

</div>
</div><p>
</div>
</body>
</html>
