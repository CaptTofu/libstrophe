<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Strophe: Context objects</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="contents">
<h1>Context objects</h1>These functions create and manipulate Strophe context objects.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">xmpp_log_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___context.html#g33abde406c7a057006b109cf1b23c8f8">xmpp_get_default_logger</a> (<a class="el" href="strophe_8h.html#ecad53c9ac2076e5fab581bc7ac4f83e">xmpp_log_level_t</a> level)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Get a default logger with filtering.  <a href="#g33abde406c7a057006b109cf1b23c8f8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">xmpp_ctx_t *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___context.html#geb32490f33760a7ffc0f86a0565b43b2">xmpp_ctx_new</a> (const xmpp_mem_t *const mem, const xmpp_log_t *const log)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Create and initialize a Strophe context object.  <a href="#geb32490f33760a7ffc0f86a0565b43b2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___context.html#g3ae5f04bc23ab2e7b55760759e21d623">xmpp_ctx_free</a> (xmpp_ctx_t *const ctx)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Free a Strophe context object that is no longer in use.  <a href="#g3ae5f04bc23ab2e7b55760759e21d623"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
These functions create and manipulate Strophe context objects. 
<p>
In order to support usage in a variety of environments, the Strophe library uses a runtime context object. This object contains the information on how to do memory allocation and logging. This allows the user to control how memory is allocated and what do to with log messages.<p>
These issues do not affect programs in the common case, but many environments require special treatment. Abstracting these into a runtime context object makes it easy to use Strophe on embedded platforms.<p>
Objects in Strophe are reference counted to ease memory management issues, but the context objects are not. <hr><h2>Function Documentation</h2>
<a class="anchor" name="g33abde406c7a057006b109cf1b23c8f8"></a><!-- doxytag: member="ctx.c::xmpp_get_default_logger" ref="g33abde406c7a057006b109cf1b23c8f8" args="(xmpp_log_level_t level)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmpp_log_t* xmpp_get_default_logger           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="strophe_8h.html#ecad53c9ac2076e5fab581bc7ac4f83e">xmpp_log_level_t</a>&nbsp;</td>
          <td class="paramname"> <em>level</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get a default logger with filtering. 
<p>
The default logger provides a basic logging setup which writes log messages to stderr. Only messages where level is greater than or equal to the filter level will be logged.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>level</em>&nbsp;</td><td>the highest level the logger will log at</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the log structure for the given level </dd></dl>

</div>
</div><p>
<a class="anchor" name="geb32490f33760a7ffc0f86a0565b43b2"></a><!-- doxytag: member="ctx.c::xmpp_ctx_new" ref="geb32490f33760a7ffc0f86a0565b43b2" args="(const xmpp_mem_t *const mem, const xmpp_log_t *const log)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">xmpp_ctx_t* xmpp_ctx_new           </td>
          <td>(</td>
          <td class="paramtype">const xmpp_mem_t *const &nbsp;</td>
          <td class="paramname"> <em>mem</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const xmpp_log_t *const &nbsp;</td>
          <td class="paramname"> <em>log</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create and initialize a Strophe context object. 
<p>
If mem is NULL, a default allocation setup will be used which wraps <a class="el" href="stdlib_8c.html#381d0a123dbf80ca3efe2614aa826e08">malloc()</a>, <a class="el" href="stdlib_8c.html#a4dd569304291049ea4bfa331d750bac">free()</a>, and <a class="el" href="stdlib_8c.html#2e7a761f90f5f2a15852891196d9e319">realloc()</a> from the standard library. If log is NULL, a default logger will be used which does no logging. Basic filtered logging to stderr can be done with the <a class="el" href="group___context.html#g33abde406c7a057006b109cf1b23c8f8" title="Get a default logger with filtering.">xmpp_get_default_logger()</a> convenience function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>mem</em>&nbsp;</td><td>a pointer to an xmpp_mem_t structure or NULL </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>log</em>&nbsp;</td><td>a pointer to an xmpp_log_t structure or NULL</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the allocated Strophe context object or NULL on an error </dd></dl>

</div>
</div><p>
<a class="anchor" name="g3ae5f04bc23ab2e7b55760759e21d623"></a><!-- doxytag: member="ctx.c::xmpp_ctx_free" ref="g3ae5f04bc23ab2e7b55760759e21d623" args="(xmpp_ctx_t *const ctx)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void xmpp_ctx_free           </td>
          <td>(</td>
          <td class="paramtype">xmpp_ctx_t *const &nbsp;</td>
          <td class="paramname"> <em>ctx</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Free a Strophe context object that is no longer in use. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ctx</em>&nbsp;</td><td>a Strophe context object </td></tr>
  </table>
</dl>

</div>
</div><p>
</div>
</body>
</html>
